<div id="wrapper" class="right-panel">
  <!--section-->
  <section class="dashboard-block">

    <div class="page-content">
      <div class="sort-box clearfix">
        <div class="sort-dropdown">
          <div class="btn-group">
            <div class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <fa-icon [icon]="fabar"></fa-icon>
            </div>
            <div class="dropdown-menu">
              <span class="dropdown-item">Sort Result By</span>
              <a class="dropdown-item" href="#">Creation
                Date</a>
              <a class="dropdown-item" href="#">Due Date
              </a>
              <a class="dropdown-item" href="#">Amount</a>
            </div>
          </div>
        </div>

      </div>
      <div class="mt-3">
        <div class="row">
          <!-- <div class="col-md-3">
            <div class="profile-widget">
              <div class="profile-img">
                <a href="client-details.html"><img [src]="imgpath" alt=""></a>
              </div>
              <div class="dropdown profile-action">
                <a href="#" class="dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
                  aria-expanded="false">
                  <fa-icon [icon]="faellipsis"></fa-icon>
                </a>
                <div class="dropdown-menu
                                  dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item" href="#" data-target="#profile_info" data-toggle="modal">
                    <fa-icon [icon]="fapencilalt"></fa-icon> Edit
                  </a>
                  <a class="dropdown-item" href="#" data-target="#delete_info" data-toggle="modal">
                    <fa-icon [icon]="fatrashalt"></fa-icon> Delete
                  </a>
                </div>
              </div>
              <div class="profle-desc">
                <h3> <a routerLink="./project-detail">
                    Rent Assured</a></h3>
                <p>Insurance Cms</p>
                <p><span class="green-text">Completed</span></p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="profile-widget">
              <div class="profile-img">
                <a href="client-details.html"><img [src]="imgpath" alt=""></a>
              </div>
              <div class="dropdown profile-action">
                <a href="#" class="dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
                  aria-expanded="false">
                  <fa-icon [icon]="faellipsis"></fa-icon>
                </a>
                <div class="dropdown-menu
                                  dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item" href="#" data-target="#profile_info" data-toggle="modal">
                    <fa-icon [icon]="fapencilalt"></fa-icon> Edit
                  </a>
                  <a class="dropdown-item" href="#" data-target="#delete_info" data-toggle="modal">
                    <fa-icon [icon]="fatrashalt"></fa-icon> Delete
                  </a>
                </div>
              </div>
              <div class="profle-desc">
                <h3> <a href="project-details.html">
                    Rent Assured</a></h3>
                <p>Insurance Cms</p>
                <p><span class="yellow-text">Ongoing</span></p>
              </div>
            </div>
          </div> -->

          <!-- ****************************Loop from here************************************* -->

          <ng-container *ngFor="let project of displayprojects, let i=index">
            <ng-container *ngIf="project">
            
            <div class="col-md-3">
              <div class="profile-widget">
                <div class="profile-img">
                  <a href="client-details.html"><img [src]="imgpath" alt=""></a>
                </div>
                <div class="dropdown profile-action">
                  <a href="#" class="dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    <fa-icon [icon]="faellipsis"></fa-icon>
                  </a>
                  <div class="dropdown-menu
                                  dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item" href="#" data-target="#profile_info" data-toggle="modal" (click)="edit(i)">
                      <fa-icon [icon]="fapencilalt"></fa-icon> Edit
                    </a>
                    <a class="dropdown-item" href="#" data-target="#delete_info" data-toggle="modal"
                      (click)="delete(i)">
                      <fa-icon [icon]="fatrashalt"></fa-icon> Delete
                    </a>
                  </div>
                </div>
                <div class="profle-desc">
                  <h3> <a routerLink="./project-detail">
                      {{project.projectname}}</a></h3>
                  <p>{{project.projecttype}}</p>
                  <p>{{project.clientname}} {{project.clientlastname}}
                  <p>
                  <p><span class="green-text">Completed</span></p>
                </div>
              </div>
            </div>
            </ng-container>
          </ng-container>
        </div>









        <!-- <div class="pagination-wrap">
          <nav aria-label="...">
            <ul class="pagination justify-content-center">
              <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
              </li>
              <li class="page-item"><a class="page-link" href="#">1</a></li>
              <li class="page-item active" aria-current="page">
                <a class="page-link" href="#">2 <span class="sr-only">(current)</span></a>
              </li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item">
                <a class="page-link" href="#">Next</a>
              </li>
            </ul>
          </nav>
        </div> -->
        <div class="pagination-wrap">
          <nav aria-label="...">
            <ul class="pagination justify-content-center">
              <li class="page-item ">
                
                <a class="page-link" routerLink="../{{+page-1}}" *ngIf="page>1" >Previous</a>
                <!-- aria-disabled="true" tabindex="-1" disabled -->
              </li>
              
              <li class="page-item">
                <a class="page-link" routerLink="../1" (click)="changeFlag()">1</a>
              </li>
              <li class="page-item" aria-current="page">
                <a class="page-link" routerLink="../2" (click)="changeFlag()">2 
                  <!-- <span class="sr-only">(current)</span> -->
                </a>
              </li>
              <li class="page-item">
                <a class="page-link" routerLink="../3" *ngIf="displayprojects[+page*2+1]" (click)="changeFlag()">3</a>
              </li>
              <ng-container *ngIf="page>=3 && displayprojects[+page*5]">
                <li class="page-item">
                  <a class="page-link" routerLink="../{{+page+1}}" (click)="changeFlag()">{{+page+1}}</a>
                </li>
                <li class="page-item">
                  <a class="page-link" routerLink="../{{+page+2}}" (click)="changeFlag()">{{+page+2}}</a>
                </li>
              </ng-container>
              <li class="page-item">
                <a class="page-link" routerLink="../{{+page+1}}" *ngIf="page<3">Next</a>
              </li>
            </ul>

          </nav>
        </div>
      </div>
    </div>
  </section>

  <!-- ************************************************************************************ -->
  <!-- Modal -->
  <div class="modal-wrap">
    <!-- Modal -->
    <div class="modal fade" id="profile_info" tabindex="-1" role="dialog" aria-labelledby="profile_infoTitle"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="profile_infoTitle">Project
              Information</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="form-wrap p-3">
              <div class="client-image-wrap">
                <div class="client-img">
                  <img src="assets/img/user.png" alt="">
                </div>
                <div class="client-desc">
                  <div class="custom-file">
                    <input type="file" class="custom-file-input" id="customFile">
                    <label class="custom-file-label" for="customFile">Choose file</label>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-3">
                  <div class="input-group form-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text">
                        <fa-icon [icon]="['fas','user']"></fa-icon>
                      </div>
                    </div>
                    <!-- <input type="text" class="form-control" id="inlineFormInputGroup"  [(ngModel)]="params.clientname" placeholder="Client Name"> -->
                    <select name="Client Name" class="custom-select" [(ngModel)]="params.client">
                      <option value="" selected>Client Name</option>
                      <ng-container *ngFor="let client of clients">
                        <option value={{client._id}}>{{client.firstname}} {{client.lastname}}</option>
                      </ng-container>
                    </select>

                  </div>
                </div>
                <div class="col-lg-3">
                  <div class="input-group form-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text">
                        <fa-icon [icon]="['fas','user']"></fa-icon>
                      </div>
                    </div>
                    <input type="text" class="form-control" id="inlineFormInputGroup" [(ngModel)]="params.projectname"
                      placeholder="Project Name">
                  </div>
                </div>
                <div class="col-lg-3">
                  <div class="input-group form-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text">
                        <fa-icon [icon]="['fas','user']"></fa-icon>
                      </div>
                    </div>
                    <input type="text" class="form-control" id="inlineFormInputGroup" [(ngModel)]="params.projecttype"
                      placeholder="Project Type">
                  </div>
                </div>

                <div class="col-lg-3">
                  <div class="input-group form-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text">
                        <fa-icon [icon]="['fas','envelope']"></fa-icon>
                      </div>
                    </div>
                    <input type="text" class="form-control" id="inlineFormInputGroup" #phone="ngModel"
                      [(ngModel)]="params.email" placeholder="Email">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6">
                  <div class="input-group form-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text">
                        <fa-icon [icon]="['fas','home']"></fa-icon>
                      </div>
                    </div>
                    <input type="text" class="form-control" id="inlineFormInputGroup" [(ngModel)]="params.address"
                      placeholder="Address (Line 1)">
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="input-group form-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text">
                        <fa-icon [icon]="['fas','home']"></fa-icon>
                      </div>
                    </div>
                    <input type="text" class="form-control" id="inlineFormInputGroup" [(ngModel)]="params.address2"
                      placeholder="Address (Line 2)">
                  </div>
                </div>
                <div class="col-lg-3">
                  <div class="input-group form-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text">
                        <fa-icon [icon]="['fas','chess-board']"></fa-icon>
                      </div>
                    </div>
                    <input type="text" class="form-control" id="inlineFormInputGroup" [(ngModel)]="params.postalcode"
                      placeholder="Postal Code">
                  </div>
                </div>
                <div class="col-lg-3">
                  <div class="input-group form-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text">
                        <fa-icon [icon]="['fas','map-marked']"></fa-icon>
                      </div>
                    </div>
                    <input type="text" class="form-control" id="inlineFormInputGroup" [(ngModel)]="params.state"
                      placeholder="State">
                  </div>
                </div>
                <div class="col-lg-3">
                  <div class="input-group form-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text">
                        <fa-icon [icon]="['fas','map-pin']"></fa-icon>
                      </div>
                    </div>
                    <input type="text" class="form-control" id="inlineFormInputGroup" [(ngModel)]="params.city"
                      placeholder="City">
                  </div>
                </div>
                <div class="col-lg-3">
                  <div class="input-group form-group">
                    <div class="input-group-prepend">
                      <div class="input-group-text">
                        <fa-icon [icon]="['fas','map-marker-alt']"></fa-icon>
                      </div>
                    </div>
                    <input type="text" class="form-control" id="inlineFormInputGroup" [(ngModel)]="params.country"
                      placeholder="Country">
                  </div>
                </div>
              </div>
              <div class="form-group">
                <textarea name="" class="form-control" placeholder="Add Description" [(ngModel)]="params.description"
                  rows="6"></textarea>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="updateproject()">Save
              changes</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

          </div>
        </div>
      </div>
    </div>
    <!--/ Modal -->
    <!-- Modal -->
    <div class="modal fade" id="delete_info" tabindex="-1" role="dialog" aria-labelledby="delete_infoTitle"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-md" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="delete_infoTitle">Delete
              Information</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body text-center">
            <p>Are you sure you want to delete?</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" (click)="confirmdelete()" data-dismiss="modal">Ok</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

          </div>
        </div>
      </div>
    </div>
    <!--/ Modal -->
  </div>